---
- name: database server configuration
  hosts: db01

  user: vagrant
  become: true

  vars_files: 
    - vars/main.yaml

  vars:
    dbname: "db01"
    dbusername: "root"
    dbpassword: "root"

  tasks:
    - name: hosts config
      #ansible.builtin.yum:
      lineinfile:
        dest: /etc/hosts
        state: present
        line: "{{item}}"
      with_items:
        - 192.168.1.2 control-node
        - 192.168.1.3 app01
        - 192.168.1.4 db01
  roles:
    - default-os-config
    - role: geerlingguy.mysql
      

      
